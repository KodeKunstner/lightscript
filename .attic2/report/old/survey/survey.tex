\chapter{Survey}

\section{Related projects}
This section is a survey of related projects.
\subsection{Mobile}
\subsubsection{Flash Lite}
\subsubsection{J2ME}
\subsubsection{Processing}
\subsection{Scripting}
\subsubsection{Lua}
\subsubsection{Python}
\subsubsection{Scheme and other small Lisp languages}

\subsection{Mobile Scripting}
There are only few scripting languages targeting mobile devices. 

\subsubsection{Hecl}
Hecl\cite{hecl} is an embeddable scripting language for mobile java devices.
It i
It 
\subsubsection{Simkin}
\subsubsection{FScriptME}
FScriptME

\subsection{EcmaScript subset}
There are already some work o
\subsubsection{Mojax}
:-(
\subsubsection{Mobile EcmaScript}
\subsubsection{Mbed EcmaScript}
TODO:mbedsystems has i

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Mobile platforms}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

This section investigates the different platforms for mobile development. 
It is divided in three parts depending on the language in which the platform can be programmed:
C/C++, Java, and scripting languages.
There are other ways program low-end device, such as assembler, Forth, and .net, but these are deemed out of scope for this project.


%%%%%%%%%%%%%%%%%%
\subsection{C/C++}
Some devices allows native code execution and are usually programmed in C and C++.
C/C++ are the language for devices which allows native code execution.
Large, small, and tiny systems will be treated individually in the following.

\subsubsection{Large systems}
Large systems covers smartphones, pda's, road navigation systems, and so on, which typically have megabytes of memory, memory protection, 32-bit processor, and likely also floating point or other coprocessors. Programming platforms here are linux, symbian, windows-ce, palm, or brew on mips or arm cpus. 

On many of these platforms applications need signing, which costs a fee, and they might be cut off from some api-features.

megabytes available 

typically linux, symbian, win-ce, palm, ?brew?
may hav slow float arith.
probably 32 bit.
E.g. arm, mips, ...


\subsubsection{Small systems}
32KB-1MB
not full library,
just the bare metal,
might not have float support,
might be 8 or 16 bit.

like large, or z80, ...

\subsubsection{Tiny systems}
Often harvard instead of neumann,
<32KB
Not the subject of this thesis.
forth-like

\subsubsection{Devices}
Lego bricks, microcontrollers, N800, FreeRunner, most PDA's, symbian phones.
\subsubsection{Platforms}
\paragraph{Linux/Unix}
\paragraph{Embedded Linux/Unix}
\paragraph{Qtopia}
\paragraph{Symbian}
\paragraph{Windows CE}
\paragraph{Palm OS}
\paragraph{BREW}
\paragraph{Rim}
\paragraph{Custom systems}

%%%%%%%%%%%%%%%%%%
\subsection{Java}
different api's, java does not contain macro system to differentiate between different 
\subsubsection{Java Micro Edition}
no class loading, 
no floats in CLDC/1.0,
might have 64KB limit on jar-size
\subsubsection{Android}
may have classloading through hacks
\subsubsection{Full JRE}
have classloading
\subsubsection{Devices}
Mobile phones en mas.


%%%%%%%%%%%%%%%%%%
\subsection{Scripting languages}
\subsubsection{EcmaScript}
\subsubsection{Python}
\subsubsection{Lua}
\subsubsection{Devices}
Large C devices, high end, locked down devices such as iPhone.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{Programming language techniques}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Programming language design}
... growing a language, hoare design,
\subsection{Parsing}
chomsky, parsers, grammars, tokenisation, yada yada, recursive descent, ..
\subsubsection{Parser generators}
antlr, coco/r, ...
\subsubsection{Monadic/combinator-parser}
\subsubsection{Pratt-parser}
pratt orig article, beautyful code book
\subsection{Scope}
lexical vs. dynamic
\subsection{Just in time compilation}
\subsubsection{Tracing}
\subsection{Virtual machine}
\subsubsection{Register vs. stack-based}
\subsection{Intermediate representations}
\subsubsection{SSA}
\subsubsection{CPS}
\subsubsection{...}
\subsection{Garbage collection}
\subsubsection{Mark and sweep}
\subsubsection{Copying}
\subsubsection{Reference counting}
\subsubsection{Generational}
\subsection{Interesting languages}
... no talk a bout the usual static oop languages with single inheritance and interfaces, as that is assumed well known.

Interesting features or as platform is criteria.

\subsubsection{Lisp}
Scoping, s-expressions,
\subsubsection{Scheme}
macros, static scope, shrink-down lisp
\subsubsection{Self}
OOP without classes
\subsubsection{JVM}
Platform, stack machine.
\subsubsection{llvm}
Platform, machin abstraction, register machine.
\subsubsection{Parrot?}
Platform for scripting, register machine.
\subsubsection{Haskell}
Lazy, pure functional
\subsubsection{Tcl}
scripting, all is string, gui
\subsubsection{TeX}
Literate programming
\subsubsection{Erlang}
concurrency
\subsubsection{Prolog}
logic programming
\subsubsection{Forth}
stack based, low resource requirements
\subsubsection{Eiffel}
contracts
\subsubsection{C}
high level assembler :-), widely used, and as platform
\subsubsection{Python}
module system, and as platform, docstrings, doctest
\subsubsection{Lua}
all as tables.
\subsubsection{EcmaScript}
self-objects, json, hofs, and as platform


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\section{EcmaScript}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection{Language overview}
\subsection{Implementations}
\subsubsection{Rhino}
\subsubsection{WebKit}
\subsubsection{SpiderMonkey}
\subsubsection{...}
\subsection{Mobile initiatives}
\subsection{Language features and quircks}
